(function(b){var a=0;b.fn.mobileMenu=function(m){var j={switchWidth:768,topOptionText:"Select a page",indentString:"&nbsp;&nbsp;&nbsp;"};function e(n){return n.is("ul, ol")}function d(){return(b(window).width()<j.switchWidth)}function c(n){if(n.attr("id")){return(b("#mobileMenu_"+n.attr("id")).length>0)}else{a++;n.attr("id","mm"+a);return(b("#mobileMenu_mm"+a).length>0)}}function h(n){if(n.val()!==null){document.location.href=n.val()}}function l(n){n.css("display","none");b("#mobileMenu_"+n.attr("id")).show()}function k(n){n.css("display","");b("#mobileMenu_"+n.attr("id")).hide()}function f(o){if(e(o)){var n='<select id="mobileMenu_'+o.attr("id")+'" class="mobileMenu">';n+='<option value="">'+j.topOptionText+"</option>";o.find("li").each(function(){var q="";var p=b(this).parents("ul, ol").length;for(i=1;i<p;i++){q+=j.indentString}var r=b(this).find("a:first-child").attr("href");var t=b(this).clone();t.find(".description").remove();var s=q+t.children("ul, ol").remove().end().text();n+='<option value="'+r+'">'+s+"</option>"});n+="</select>";o.parent().append(n);b("#mobileMenu_"+o.attr("id")).change(function(){h(b(this))});l(o)}else{alert("mobileMenu will only work with UL or OL elements!")}}function g(n){if(d()&&!c(n)){f(n)}else{if(d()&&c(n)){l(n)}else{if(!d()&&c(n)){k(n)}}}}return this.each(function(){if(m){b.extend(j,m)}var n=b(this);b(window).resize(function(){g(n)});g(n)})}})(jQuery);